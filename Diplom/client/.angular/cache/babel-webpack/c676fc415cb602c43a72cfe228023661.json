{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../neyros/neyros.component\";\nimport * as i2 from \"src/app/service/neyros.service\";\nexport let NeuroModuleComponent = /*#__PURE__*/(() => {\n  class NeuroModuleComponent {\n    constructor(neyro, ney_serv) {\n      this.neyro = neyro;\n      this.ney_serv = ney_serv;\n      this.name = \"\";\n      this.ip = \"\";\n      this.port = 0;\n      this.my_ip = '10.0.0.195';\n      this.status = \"off\";\n      this.result = -1;\n      this.res = {};\n      this.editing = false;\n    }\n\n    ngOnChanges(changes) {\n      console.log('onchancges');\n\n      if (changes['data'].currentValue) {\n        console.log('if in onchancges');\n        this.name = changes['data'].currentValue.value.name;\n        this.ip = changes['data'].currentValue.value.ip;\n        this.port = changes['data'].currentValue.value.port;\n        console.log('if in onchancges' + this.name);\n      }\n    }\n\n    ngOnInit() {//this.name = this.neyro.module_name;\n      //this.neyro.module_name = '';\n      ///this.ip = this.neyro.module_ip;\n      //this.neyro.module_ip='';\n      //this.port = this.neyro.module_port;\n      //this.neyro.module_port=0;\n      //this.my_ip = this.neyro.my_ip_pt;\n      //this.ney_serv.statuses.set(this.name, -1);\n    }\n\n    submit() {\n      alert(this.ip);\n      this.ney_serv.setSubmit(this.ip, this.port.toString(), this.my_ip, this.name, this.getTextButton()).subscribe(() => {//this.getRes();\n      }); //setInterval(this.getRes, 1);\n\n      this.getRes();\n    }\n\n    getRes() {\n      const t = this.ney_serv.getGlobalRes(this.name).subscribe(() => {\n        this.result = this.ney_serv.statuses.get(this.name);\n        console.log(\"!!!\" + this.result);\n        this.getRes();\n      });\n    }\n\n    getClass() {\n      console.log(\"!!!\" + this.result);\n\n      if (this.result === -1) {\n        this.neyro.mod_res.set(this.name, -1);\n        return \"light_gray\";\n      } else {\n        this.neyro.mod_res.set(this.name, this.result);\n        return this.result != 0 ? \"light_red\" : \"light_green\";\n      }\n    }\n\n    getTextButton() {\n      return this.result === -1 ? 'подписаться' : 'отписаться';\n    }\n\n  }\n\n  NeuroModuleComponent.ɵfac = function NeuroModuleComponent_Factory(t) {\n    return new (t || NeuroModuleComponent)(i0.ɵɵdirectiveInject(i1.NeyrosComponent), i0.ɵɵdirectiveInject(i2.neyrosService));\n  };\n\n  NeuroModuleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NeuroModuleComponent,\n    selectors: [[\"app-neuro-module\"]],\n    inputs: {\n      data: \"data\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 22,\n    vars: 7,\n    consts: [[1, \"nm\"], [\"width\", \"270px\"], [\"rowspan\", \"3\"], [3, \"click\"]],\n    template: function NeuroModuleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"table\");\n        i0.ɵɵelementStart(2, \"tr\");\n        i0.ɵɵelementStart(3, \"td\", 1);\n        i0.ɵɵtext(4, \" \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u043E\\u0434\\u0443\\u043B\\u044F : \");\n        i0.ɵɵelementStart(5, \"b\");\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"td\", 2);\n        i0.ɵɵelementStart(8, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function NeuroModuleComponent_Template_button_click_8_listener() {\n          return ctx.submit();\n        });\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"td\", 2);\n        i0.ɵɵelement(11, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"tr\");\n        i0.ɵɵelementStart(13, \"td\");\n        i0.ɵɵtext(14, \" ip \\u043C\\u043E\\u0434\\u0443\\u043B\\u044F : \");\n        i0.ɵɵelementStart(15, \"b\");\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"tr\");\n        i0.ɵɵelementStart(18, \"td\");\n        i0.ɵɵtext(19, \" port \\u043C\\u043E\\u0434\\u0443\\u043B\\u044F : \");\n        i0.ɵɵelementStart(20, \"b\");\n        i0.ɵɵtext(21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.name);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.getTextButton());\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassMap(ctx.getClass());\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.ip);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.port);\n      }\n    },\n    styles: [\".nm[_ngcontent-%COMP%]{border:1px solid #003d55;padding:30px;margin:10px auto;background-color:#daecf7;width:600px;border-radius:30px;size:30pt}.nm[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.nm[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:1px solid #1b550048;padding:10px}.nm[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:2px;border:rgb(67,151,177) solid 1px;width:90%;margin:0 auto;text-align:center;display:block;transition:.3s;background-color:#e1ebf5;outline:none}.nm[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-radius:2px;border:rgb(14,114,145) solid 1px;width:100%;margin:0 auto;text-align:center;display:block;transition:.3s;background-color:#bbd0e6;outline:none}.light_gray[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:2px solid #555555;background-color:#e9e9e9}.light_green[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:2px solid #1b5500;background-color:#10e910}.light_red[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:2px solid #550000;background-color:#e91010}\"]\n  });\n  return NeuroModuleComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}